<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>checkbox</title>

	<style type="text/css">
	
		#colorbox {
			width: 320px;
			height: 320px;
			position: relative;
		}
		
		#red,#green,#blue,#black {
			width: 150px;
			height: 150px;
			border: 1px solid black;
			position: absolute;
		}
		
		#green {left: 160px;}
		#blue {top: 160px;}
		#black {left: 160px; top: 160px;}
	
	</style>
	
	<script type="text/javascript">
	
		function selectColor() {
			
			var chks = document.getElementsByName("chk");
			
			for(var i=0; i<chks.length; i++) {
				if(chks[i].checked) {
					document.getElementById(chks[i].value).style.backgroundColor = chks[i].value;
				} else {
					document.getElementById(chks[i].value).style.backgroundColor = "";
				}
			}
		}
		
		function selectAll(check) {
			
			var chks = document.getElementsByName("chk");
			
			for(var i=0; i<chks.length; i++) {
				if(check) {
					chks[i].checked = true;
				} else if(!check) {
					chks[i].checked = false;
				}
			}
		}
		
		function clearColor() {
			
			/*
			var chks = document.getElementsByName("chk");
			var all = document.getElementsByName("all");

			all[0].checked = false;
			
			for(var i=0; i<chks.length; i++) {
				chks[i].checked = false;
				document.getElementById(chks[i].value).style.backgroundColor = "";
			}
			*/
			
			var colorbox = document.querySelectorAll("#colorbox > div");
			
			for(var i=0; i<colorbox.length; i++) {
				colorbox[i].style.backgroundColor = "";
			}
			
			selectAll(false);
			document.getElementsByName("all")[0].checked = false;
		}
	
	</script>

</head>
<body>

	<div id="colorbox">
		<div id ="red">RED</div>
		<div id ="green">GREEN</div>
		<div id ="blue">BLUE</div>
		<div id ="black">BLACK</div>
	</div>
	
	<div id="base">
		<form>
			<input type="checkbox" name="all" onclick="selectAll(this.checked);">전체선택<br>
			
			<input type="checkbox" name="chk" value="red">RED<br>
			<input type="checkbox" name="chk" value="green">GREEN<br>
			<input type="checkbox" name="chk" value="blue">BLUE<br>
			<input type="checkbox" name="chk" value="black">BLACK<br>
			
			<input type="button" value="select" onclick="selectColor();">
			<input type="button" value="clear" onclick="clearColor();">
		</form>
	</div>

</body>
</html>